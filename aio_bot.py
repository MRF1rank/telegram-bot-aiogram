from config import TOKEN
from aiogram.dispatcher import Dispatcher
from aiogram import Bot, bot, types
from aiogram.utils import executor
import json
import string
import random
import time
import requests
import os
from deepface import DeepFace
from config import weather_token
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton, InlineKeyboardButton, InlineKeyboardMarkup


colors = ['Белый', 'Черный', 'Синий', 'Персей', 'Зеленый', 'Салатовый', 'Темный циан', 'Голубой', 'Сапфировый', 'Бирюзовый', 'Коричневый', 'Пурпурный', 'Мурена', 'Мятно-зеленый', 'Кварц', 'Космос', 'Кофейный', 'Бежевый', 'Серый', 'Индиго', 'Розовый', 'Фиолетовый',
          'Сливовый', 'Хаки', 'Византия', 'Сизый', 'Аквамариновый', 'Телегрей', 'Сангина', 'Ламантин', 'Баклажановый', 'Темная орхидея', 'Ниагара', 'Болотный', 'Бордовый', 'Малиновый', 'Темно-алый', 'Ванильный', 'Лиловый', 'Лаванда', 'Фиалковый', 'Желтый', 'Персиковый', 'Оранжевый',]

bot = Bot(token=TOKEN)
dp = Dispatcher(bot)


async def on_startup(_):
    print('Бот в онлайне')


# ...............component for TRorACT.............................

regs = InlineKeyboardMarkup(row_width=1).add(
    InlineKeyboardButton(text='Зарегистрироваться', callback_data='www'))

reg = []

truth = ['В кого был (была) безответно влюблен (влюблена)?', ' За что до сих пор стыдно?', 'Как влюбляешь и соблазняешь? Твоя стратегия?',
         'Кого взял (взяла) на необитаемый остров из присутствующих?', 'Как влюбляешь и соблазняешь? Твоя стратегия?', 'Какие мужчины и женщины нравятся? Кто из игроков больше всего похож на идеал?', 'Какое нижнее белье на тебе сейчас? Какое обычно предпочитаешь носить?', 'О чем обычно врешь другим людям?', 'Тайно влюблялся в половинку своего друга (подружки)?', 'Какая часть тела мужчины (женщины) больше всего заводит?', 'На какого животного похож (похожа) в постели?', ' Как бы ты потратил (потратила) миллион долларов?', 'Целовался ли с другими парнями (девушками)?', 'Что больше всего раздражает в других людях?', 'Сколько детей хочешь иметь?', 'Начал (начала) бы встречаться с миллионером из-за его денег?', ' Какие безумные поступки совершал (совершала)?', 'Тебе осталось жить только сутки. Что будешь делать?', 'Ходишь без нижнего белья, лифчика или трусиков, хоть иногда?', 'Возвращался (возвращалась) к бывшим?', 'Что самое сексуальное в мужчинах и женщинах?', 'Чего больше всего боишься в жизни?', 'Нарушал (нарушала) закон хоть раз в жизни и как это было?', 'Нюхаешь свою одежду перед тем, как ее надеть?', 'Можешь простить измену или сам (сама) изменить?', 'Что притягивает людей друг к другу?', 'Что больше всего боишься потерять?', 'Когда-нибудь писал (писала) в бассейн или море?', 'Что делал (делала), если стал девушкой (стала парнем) на один день?', ' О чем ты мечтаешь?', 'Веришь в религии, инопланетян или чудеса?', 'Встречалась бы с двумя половинками, если бы это сходило с рук?', 'Что готов (готова) сделать за 1 миллион долларов? Переспать, сменить пол, убить?', 'Напивался (напивалась) до потери сознания и совести?', 'Приходилось отбивать чужих занятых половинок?', 'Какие твои главные вредные привычки?', 'Расскажи любой свой секрет и историю из прошлого?', 'Самая темная твоя фантазия и мечта?', 'Самая неловкая вещь, которую делал (делала)?', 'Ты везде бреешься? Или по настроению?', ' Какой лучший способ соблазнить тебя?', 'Что в тебе самое привлекательное в твоем теле и что самое мерзкое?', 'Когда у тебя был в последний раз неприличный сон?', 'Сидишь на сайтах знакомств? Когда в последний раз ходила на свидания и как было?', 'Где бы ты набила татуировку и что именно?', 'Что набила бы, если бы это была интимная татуировка?', 'Какие клички и прозвища у тебя были? Какую кличку бы себе придумал (придумала) самостоятельно?', 'У кого в комнате самые красивые губы? Глаза, подбородок, волосы, тело, душа?', 'Как проще всего тебя заманить в гости?', 'Что делает тебя добрым (доброй) и что злой?', 'С кем из присутствующих поменялась бы местами жизни на неделю и почему?', 'Что думает о тебе каждый из игроков?', 'Кто из игроков больше всех напрягает?', 'Во сколько лет у тебя был первый раз?', 'Тебе нравятся люди гораздо младше тебя?', 'Чьи мысли хотел бы прочитать больше всего?', 'Здесь есть тот, кто тебе нравится?', 'Как тебя предавали или кидали в жизни?', 'Какая максимальная разница в возрасте тебя не смутит в отношениях?', 'Что скажешь про соседа справа? Внешность, характер, тайные желание?', 'Следишь ли в социальных сетях за бывшими?', 'Что будешь делать, если случится залет в отношениях?', 'Что будешь делать, если случится залет в отношениях?', 'Мог (могла) бы простить измену?', 'Идеальный возраст для создания твоей семьи?', 'Ты выбриваешь все участки тела и как это делаешь?', 'Кто в комнате лучше всех целуется?', 'Как бы ты делал (делала) первый шаг в отношениях?', 'Кого ты предал (предала) или сильно подставила?', 'В транспорте к тебе прислонялся кто-то, а тебе нравилось?', 'Какие три желания загадаешь золотой рыбке или джину?', 'Любишь, когда тебя хлопают по попе?',
         'Предпочитаешь доминировать или подчиняться?', 'Как выглядит идеальное свидание по твоему мнению?', 'Чтобы сделал (сделала) в первую очередь, если мог (могла) быть невидимкой.', 'О чем больше всего сожалеешь в жизни?', 'Что думаешь о браке?', 'Ты сейчас в кого-нибудь влюблен (влюблена)?', 'Что самое неприятное делал (делала) на свидание?', 'Кто из присутствующих лучше всего тебя знает?', 'Мог (могла) бы состоять в отношениях наподобие голландской семьи.', 'Какие комплименты тебе чаще всего говорят?', 'За чем бы простоял (простояла) в очереди сутки?', 'Любимая детская передача, мультик, герой.', 'Когда последний раз ревел (ревела)?', 'Какие у тебя эрогенные зоны?', 'Кто из блогеров тебе нравится? Назвать пятерых.', 'Где бы хотела провести ужин?', 'Как ты пикапил (пикапили) кого-то?', ' Поцелуй – это уже измена?', 'Самая больная физическая боль, полученная жизни?', ' Какие запреты и табу есть у тебя?', 'Что мгновенно убивает интерес к второй половине?', ' Сколько селфи делаешь каждый день примерно?', 'В чем в себе больше всего не уверен (не уверена)?', 'Что тебя может успокоить?', 'Загорал (загорала) обнаженным или топлесс?', ' Как долго не принимал (принимала) душ в жизни?', 'Куда бы отправился (отправилась), если была бы машина времени?', 'Тебя увольняли с работы?', 'Снились ли вещие сны?', ' В какой сфере знаменитым хочешь быть?', 'Кто из присутствующих во время апокалипсиса погибнет первым?', 'Что больше всего бесит или кто?', 'Какую селебрити обожаешь?', 'Любимая поза в постели?', 'Самая стыдливая твоя мечта?', 'Изобрази 10 эмоций на 1 минуту.', 'Какие качества ищешь в противоположном поле?', 'Самые странные фантазии в жизни?',
         'Самая странная попробованная пища?', 'Без чего не можешь жить?', 'Врал (врала) ли по поводу своего возраста? Зачем?', 'По какому человеку скучаешь, с кем давно не общаешься?', 'Твои родители тобой гордятся?', 'Какой поступок хотел (хотела) бы не делать?', 'Как часто ты портишь воздух? На что похож аромат?', 'Нравится получать интимные фотографии незнакомых людей?', 'Что запрещенного было опробовано?', 'Ты пускаешь слюни во сне?', 'Как провел бы последний месяц жизни?', 'Учителем какого предмета или науки мог (могла) бы быть?', 'Что бесит в людях?', 'Кому сейчас хочется дать по голове среди присутствующих?', 'Кто лучше всех флиртует среди вас?', 'Самое постыдное увлечение?', '. Кто самый пошлый и самый испорченный среди компании?', 'Что такое для тебя настоящая любовь?', 'Пробовал (пробовала) ли близостью в общественных местах?', 'Пробовал (пробовала) ли близостью в общественных местах?', ' Любишь ли отмечать свой день рождения?', ' Кто из людей в комнате делает тебя счастливым?', 'Врал (врала) ли о количестве партнеров?', 'Кто самый целомудренный среди присутствующих?', 'Какие неудачные собеседования в жизни были?', 'Был ли у тебя секс по дружбе?', 'Какого бы мультяшного героя ты бы хотел (хотела) затащить в постель?', 'Как много ты ругаешь матом и любишь ли ругаться?', 'Ты писаешь в душе, речке или бассейне?', 'Твой самый странный запрос в поиске?', 'Расскажи как ты пытался кого-то влюбить?', ' К тебе подкатывали представители твоего же пола?', 'С кем бы переспал (переспала) прямо сейчас?', 'Ты разговариваешь сам (сама) с собой?', 'Кто с тобой хочет переспать как ты думаешь?', 'Какой фильм вызывает у тебя слезы?', 'Расскажи о половой жизни каждого их игроков?',
         ' На какой постыдной лжи тебя ловили?', 'За какие грехи мог бы попасть в ад?', 'Кто самый жаркий человек в комнате?', 'Что думаешь об близости на первом свидании?', 'Умеешь ли завязывать в узел языком черенок вишни?', 'Самая бессмысленная твоя покупка?', 'Как наказываешь свою вторую половинку?', 'Кому доверишь свой секрет среди игроков?', 'Расскажи историю о своей несчастной любви?', ' Что будешь делать за 24 часа до смерти?', 'На сколько баллов оцениваешь свою внешность?', 'Был ли кекс на камеру?', 'Издевался (издевалась) ли над кем-нибудь в школе?', 'Бухаешь ли в одиночестве?', 'На чем учился (училась) целоваться в детстве?', 'Перед кем хочешь извиниться давно?', 'Самый безумный поступок во имя любви?', 'Ты мстил (мстила) кому-нибудь и как?', 'С кем бы поменялся (поменялась) внешностью?', 'Любишь ли говорить с таксистами и о чем?', ' Самая бессмысленная информация в твоей голове?', ' Поведай о самом тяжелом периоде в жизни?', 'Какие странные слова в постели ты слышал (слышала)?', 'Что странного и необычного тебя заводит?', ' Самое опасное приключение в жизни?', 'Кому бы станцевал (станцевала) стриптиз?', 'Лучший сюрприз, полученный от кого-то?', 'Какое сообщение тебе разбило сердце?', 'Платил ли за удовлетворение плотских желаний?', ' Делал (делала) ли хулиганские звонки?', 'В чем обычно в тебе заблуждаются?', 'Год без алкоголя или год без утех в постели?', 'Самый неприличный слух о тебе?', 'Как предпочитаешь наказывать людей?', 'С кем из знаменитостей готов (готова) на все?', 'Ты ешь еду, упавшую на пол?', ' Ты врезался во что-нибудь на ходу?', 'Передариваешь плохие подарки?', ' Были ли фиаско в постели?', 'Ты ведешь канал, который никто не знает?', 'Как относишься к браку по расчету?', 'Самый длинный кекс в жизни и самый короткий?', 'Кого из присутствующих видел без одежды?', 'Твои последние слова этому миру?', 'Была ли близость с иностранкой (иностранцем)?', 'Тебе бывает стыдно за свою половинку?', 'Как звали твою первую любовь?', ' Ковыряешься в носу?', 'О чем обычно думаешь в туалете?',
         'Что в истории твоего браузера постыдного есть?', 'Твой фетиш в постели?', 'Какие самые неудачные отношения были?', ' Считаешь ли свое имя горячим?', 'Ты ведешь дневник?', 'Отношения к волосатым людям?', 'Чтобы изменил (изменила) в каждом из нас?', 'Кто-нибудь тебя видел в туалете случайно?', 'За что ты можешь послать человека?', 'Пойдешь на серьезный обман ради друга?', 'У тебя были вши и когда именно?', 'Сбегал (сбегала) ли наутро после близости?', 'Ревнуешь ли друзей к друзьям?']

action = ['Поцелуй того, кто сидит напротив тебя', 'Потанцуй под музыку, которую выбрали другие игроки.', 'Покатай на себе кого-нибудь или прокатись.', 'Крикни на улице: «Кто хочет быть моей любовью?', 'Покажи, как соблазняешь других, на примере одного из игроков.'
          'Спародируй любого человека из присутствующих.', 'Продемонстрируй походку Майкла Джексона или Конора Макгрегора.', 'Сними один элемент одежды.', 'Укуси сам себя за ногу или другого игрока.', 'Напиши сообщение «я тебя люблю» и отправь 5 случайным контактам.', ' Изобрази себя в доску пьяным.', 'Переодень одежду наизнанку до конца игры.', 'Изобрази свой дьявольский смех.', 'Погавкай в окно на прохожих.', 'Станцуй лезгинку.', 'Спой песню в караоке.', 'Сделай массаж любому из присутствующих.', 'Сделай массаж любому из присутствующих.', 'Изображай лягушку, кенгуру или шимпанзе 5 минут.', 'Найди наощупь любого игрока в комнате.', 'Нарисуй себе на лице усы.', 'Проползи или пройдись на корточках вокруг стола.', ' Покажи позу, в которой обычно спишь', 'Понюхай других игроков и скажи, чем пахнет каждый.',
          'Придумай всем клички, характеризующие их.', 'Изобрази известную личность, чтобы другие игроки угадали.', 'Станцуй танго с любым из присутствующих.', 'Сядь на колени к кому-либо на 5 минут.', 'Устрой случайному человеку «прожарку». Высмеивай его недостатки 2 минуты.', 'Сделай смешные или эротичные совместные селфи с каждым.', 'Покажи, как ты обычно разрываешь отношения.', 'Прислуживай кому-то несколько минут.', 'Объясни свое преимущество над всеми другими присутствующими людьми.', 'Изобрази животных, которые попросят присутствующие.', 'Прочитай вслух переписку с одним из участников игры.', 'Покажи свой пресс кубиками или живот.', 'Прочитай последние сообщения в социальной сети.', 'Добавь всех присутствующих в друзья в социальной сети.', 'Приподними любого человека в комнате или попросись на ручки.', 'Тебе подфартило. Загадай желание любому игроку.', 'Станцуй тверк так, чтобы все понравилось.', 'Обними всех игроков противоположного пола, а одному дай пендаль.', 'Прикоснись к эрогенной зоне соседа справа.', 'Поцелуй того, кто первый до тебя прикоснется в следующие 5 секунд.',
          'Позволь кому-то тебя отшлепать из противоположного пола.', 'Соблазни игрока напротив за 30 секунд, используя только слова.', ' Пощекочи соседа слева 30 секунд.', 'Изобрази битбокс.', 'Общайся пока до тебя опять не дойдет очередь только матом.', ' Говори с британским акцентом.', 'Найди известных людей каждому игроку, на кого они похожи.', 'Веди себя как курица до следующего хода.', 'Сделай 20 приседаний или отожмись.', 'Позволь другим игрокам сделать тебе прическу.', 'Исполни выполнимое желание игрока слева.', 'Покажи, что у тебя в сумочке или карманах.', 'Рассказывай про одного из игроков, пока другие не догадаются кто это.', 'Сделай массаж ног игроку справа.', 'Покажи, как ты прихорашиваешься по утрам перед зеркалом.', 'Сделай себе шляпу из бумаги и сиди в ней 10 минут.', 'Поменяйся частью одежды с игроком напротив.', 'Сядь на шпагат или просто попытайся.', 'Расскажи свои интимные фантазии не менее 1 минуты.', 'Сделай случайный звонок по случайному номеру в записной книжке.', 'Попроси вылить на тебя немного воды на голову.', 'Позвони любому другу и начни петь «С днем рождения» без объяснений.', 'Делай планку минуту.', 'Неожиданно напугай любого игрока за следующие 5 минут.', 'Изображай кошку до следующего раунда.',
          'Выбери любого игрока и изобрази с ним ролевую игру.', 'Держись нежно за руки с любимым игроком в компании.', 'Надень лифчик поверх одежды или носки заправь в брюки.', 'Объясни всем любую позу из Камасутры, показывая телом.', 'Покажи свою самую постыдную фото', 'Сделай массаж плеч любому игроку.', 'Станцуй быстро под медленную музыку.', 'Разговаривай высоким голосом следующие 15 минут.', 'Поцелуй любого игрока.', 'Набери в рот воды и скажи свое имя.', 'Эротично пройдись по комнате.', 'Придумай всем пошлые клички', 'Расскажи всем, что тебе не нравится в каждом.', 'Удиви всех историей из своей жизни.', 'Изображай тупого следующие 15 минут игры.', 'Покажи свой обнаженный живот.', 'Говори сексуальную фразу раз в минуту, пока ход опять не дойдет до тебя.', 'Выложи фотку с соцсети с любым игроком, что вы в отношениях.', 'Расстегни пуговицу на одежде и так сиди дальше.', 'Спой на балконе песню, которую выберут другие игроки.', 'Покажи свое лицо, которое у тебя бывает во время оргазма.', 'Спой припев любимой песни.', 'Изобрази плейбоя или роковую девушку.', 'Каждый игрок дает тебе подзатыльник', 'Станцуй канкан.', 'Сядь в неудобной позе.', 'Сделай себе шапку из туалетной бумаги, а затем выложи фото в социальные сети.', 'Шлепай себя по попе не менее 15 раз.', 'Изображай психолога, который гипнотизирует других игроков',
          'Оближи щеку любого игрока.', 'Изобрази Брюс Ли.', 'Представь, что ты доктор, а теперь лечи любого игрока', 'Понюхай всех и найти самого вкусного игрока.', 'Разговаривай только на английском следующие 15 минут.', 'Разговаривай только на английском следующие 15 минут.', 'Покажи свой эротический взгляд.', 'Изображай пьяного 15 минут.', 'Выступи с мотивационной речью, как любой политик или инфоцыган.', 'Попытайся соблазнить какого-то игрока 5 минут.', 'Назови 10 причин почему ты самый плохой среди вас.', 'До следующего хода играешь с завязанными глазами.', 'Посчитай до 10 горячо и вызывающе.', 'Покажи всем как ты двигаешься во время близости.', 'Смотри любому из игроков в глаза 3 минуты.', 'Ласкай 10 секунд свои соски.', 'Прокати через штанины любой предмет.', 'Включи фильм для взрослых и рассказывай всем минуту, что там происходит.', 'Изобрази десяток эмоций на лице, чтобы другие угадали.', 'Веди себя как старый дед до следующего раунда игры.', 'Расскажи, что возбуждает тебя в каждом игроке.', 'Сиди до следующего хода с расстегнутой ширинкой.', 'Назови 10 пунктов почему ты лучше всех в мире.', 'Представь, что ты комик и пытайся рассмешить всех минуту.', 'Размести в социальной сети свою самую стремную фото.', 'Позвони кому-то, а затем признайся в любви или ненависти.', 'Вызови мурашки у любого игрока.', 'Выбери того, кто должен тебя пощекотать.']

# ...........................KEYBOARDS.............................


@dp.message_handler(commands=['start', '𝐞𝐱𝐢𝐭', ])
async def command_start(message: types.Message):
    b1 = '/𝐰𝐞𝐚𝐭𝐡𝐞𝐫'
    b2 = '/𝐓𝐑𝐨𝐫𝐀𝐂𝐓'
    b3 = '/𝐟𝐚𝐜𝐞_𝐚𝐧𝐚𝐥𝐲𝐬𝐢𝐬'
    b4 = '/𝐫𝐚𝐧𝐝𝐨𝐦_𝐜𝐨𝐥𝐨𝐫'
    b5 = '/𝐫𝐚𝐧𝐝𝐨𝐦_𝐧𝐮𝐦𝐛𝐞𝐫'
    murkup = types.ReplyKeyboardRemove()
    await message.answer('приношу свои глубочайщие извинения за проявленные неудобства', reply_markup=murkup)


@dp.callback_query_handler(text="")
async def reggs(message: types.Message):
    await message.answer('слушаюсь Хозяин')


# #.........................KEYBOARDS FOR TRorACT....................

# b5 = '/𝐓𝐫𝐮𝐭𝐡'
# b6 = '/𝐀𝐜𝐭𝐢𝐨𝐧'
# b7 = '/𝐞𝐱𝐢𝐭'
# murkups = types.ReplyKeyboardMarkup(resize_keyboard=True)
# murkups.add(b5).add(b6).add(b7)

# #.................TRorACT.........................................

# @dp.message_handler(commands=['𝐓𝐑𝐨𝐫𝐀𝐂𝐓'])
# async def random_c(message : types.Message):
#     await message.answer( 'Добро пожаловать в игру☂️ \n  \n •Правда или Действие• \n  \n Пройдите регистрацию.', reply_markup=regs)
#     time.sleep(60)
#     await message.answer( 'Игра началась ♡', reply_markup=murkups)

# @dp.callback_query_handler(text = 'www')
# async def reggs(message : types.Message):
#     if not message.from_user.first_name in reg:
#         reg.append(message.from_user.first_name)

# @dp.message_handler(commands=['𝐓𝐫𝐮𝐭𝐡'])
# async def random_(message : types.Message):
#     while True:
#         await message.answer(f'Правда' + f'\n' +  f' \n  •{random.choice(reg)}•:' + '   ' + f'{random.choice(truth)}')
#         break

# @dp.message_handler(commands=['𝐀𝐜𝐭𝐢𝐨𝐧'])
# async def random_(message : types.Message):
#     while True:
#         await message.answer(f'Действие' + f'\n' +  f' \n  •{random.choice(reg)}•:' + '   ' + f'{random.choice(action)}')
#         break
# #.................Face Analisys....................................

# b8 = '/𝐭𝐫𝐲_𝐚𝐠𝐚𝐢𝐧'
# b9 = '/𝐞𝐱𝐢𝐭'
# deleted = types.ReplyKeyboardMarkup(resize_keyboard=True)
# deleted.add(b8).add(b9)

# @dp.message_handler(commands=['𝐟𝐚𝐜𝐞_𝐚𝐧𝐚𝐥𝐲𝐬𝐢𝐬'])
# async def face_analyze(message : types.Message):
#     await bot.send_message(message, 'Отправь фотографию для обработки')

# @dp.message_handler(content_types=['photo'])
# async def photo(message):
#     await message.photo[-1].download('img.jpg')
#     await message.answer('Идет обработка.\nМожешь чай себе заварить.')
#     try:
#         result_dict = DeepFace.analyze(img_path='img.jpg', actions=['age', 'gender', 'emotion'])
#         await message.answer(f'Возраст: {result_dict.get("age")}')
#         await message.answer(f'Пол: {result_dict.get("gender")}')
#         await message.answer('Эмоции:')
#         for k, v in result_dict.get('emotion').items():
#             await message.answer(f'{k} - {round(v, 2)}%', reply_markup=deleted)
#     except Exception as _ex:
#         return _ex

# @dp.message_handler(commands=['𝐭𝐫𝐲_𝐚𝐠𝐚𝐢𝐧'])
# async def face_analyze(message : types.Message):
#     path = os.path.join(os.path.abspath(os.path.dirname(__file__)), 'img.jpg')
#     os.remove(path)
#     await message.answer('Отправь фотографию')

# #.................RANDOM NUMBER....................................

# @dp.message_handler(commands=['𝐫𝐚𝐧𝐝𝐨𝐦_𝐧𝐮𝐦𝐛𝐞𝐫'])
# async def random_n(message : types.Message):
#     await message.answer(f'Твое число♡ \n  \n      •••{random.randint(0,100)}•••')

# #.................RANDOM COLOR.....................................

# @dp.message_handler(commands=['𝐫𝐚𝐧𝐝𝐨𝐦_𝐜𝐨𝐥𝐨𝐫'])
# async def random_c(message : types.Message):
#     await message.answer(f'•Твой цвет на сегодня• \n  \n      •••{random.choice(colors)}•••')

# # #........................ПАРСЕР ПОГОДЫ...........................

# @dp.message_handler(commands=['𝐰𝐞𝐚𝐭𝐡𝐞𝐫'])
# async def start_command(message : types.Message):
#     await message.reply('ツПривет, \nВведи название города и я пришлю сводку погоды⚚')
# @dp.message_handler()
# async def get_weather(message: types.Message):
#     code_to_smile = {'Clear': 'Ясно☀', 'Clouds': 'Облачно☁', 'Rain' : 'Дождь🌧','Drizzle': 'Дождь⛈', 'Thunderstorm': 'Гроза🌩', 'Snow': 'Снег❄', 'Mist': 'Туман🌫'}
# #.
#     try:
#         r = requests.get(f'http://api.openweathermap.org/data/2.5/weather?q={message.text}&appid={weather_token}&units=metric')
#         data = r.json()
#         city = data['name']
#         cur_weather = data['main']['temp']
#         weather_description = data['weather'][0]['main']
#         if weather_description in code_to_smile:
#             wd = code_to_smile[weather_description]
#         else:
#             wd = 'ツПосмотри в окно, я не пойму что за там погода'
#         humidity = data['main']['humidity']
#         pressure = data['main']['pressure']
#         wind = data['wind']['speed']
#         await bot.send_message(message.from_user.id,f'Погода в городе⚚ {city}\nТемпература⚚ {cur_weather}C {wd}\n'
#         f'Влажность⚚ {humidity}%\nДавление⚚ {pressure} мм.рт.ст\nВетер⚚ {wind}\n'
#         f'Хорошего дня⚚')
#     #.
#     except:#..........................ЗАПРЕТ МАТОВ...............................
#         if {i.lower().translate(str.maketrans('', '', string.punctuation)) for i in message.text.split(' ')}\
#         .intersection(set(json.load(open('cenz.json')))) != set():
#             await message.reply('Маты запрещеныツ')
#             await message.delete()


executor.start_polling(dp, skip_updates=True, on_startup=on_startup)
